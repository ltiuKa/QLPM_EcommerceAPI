<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>E-Shop | Đăng ký</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="/Frontend/assets/css/styles.css" rel="stylesheet">
</head>
<body>
	<div id="navbar"></div>
	<div class="container" style="max-width:420px;">
		<h3 class="mb-3">Đăng ký</h3>
		<input id="fullName" class="form-control mb-2" placeholder="Họ tên"/>
		<input id="email" class="form-control mb-2" placeholder="Email"/>
		<input id="password" type="password" class="form-control mb-2" placeholder="Mật khẩu"/>
		<button id="btnRegister" class="btn btn-warning w-100">Tạo tài khoản</button>
	</div>

	<script>window.USE_HTTP = true;</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script type="module">
		async function loadPartial(id, url){ const html = await (await fetch(url)).text(); document.getElementById(id).innerHTML = html; }
		await loadPartial('navbar','/Frontend/partials/navbar.html');
		import { AuthAPI } from '/Frontend/assets/js/api.js';
		document.getElementById('btnRegister').onclick = async()=>{
			const fullName = document.getElementById('fullName').value.trim();
			const email = document.getElementById('email').value.trim();
			const pass = document.getElementById('password').value;
			if (!fullName || !email || !pass) { alert('Nhập đầy đủ họ tên, email, mật khẩu'); return; }
			await AuthAPI.register(email, pass, fullName);
			alert('Tạo tài khoản thành công');
			location.href = '/Frontend/login.html';
		}
	</script>
</body>
</html>

