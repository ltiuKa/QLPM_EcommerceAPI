<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>E-Shop | Đăng nhập</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="/Frontend/assets/css/styles.css" rel="stylesheet">
</head>
<body>
	<div id="navbar"></div>
	<div class="container" style="max-width:420px;">
		<h3 class="mb-3">Đăng nhập</h3>
		<input id="email" class="form-control mb-2" placeholder="Email" value="demo@example.com"/>
		<input id="password" type="password" class="form-control mb-2" placeholder="Mật khẩu" value="P@ssw0rd!"/>
		<button id="btnLogin" class="btn btn-primary w-100">Đăng nhập</button>
	</div>

	<script>window.USE_HTTP = true;</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script type="module">
		async function loadPartial(id, url){ const html = await (await fetch(url)).text(); document.getElementById(id).innerHTML = html; }
		await loadPartial('navbar','/Frontend/partials/navbar.html');
		import { AuthAPI } from '/Frontend/assets/js/api.js';
		document.getElementById('btnLogin').onclick = async()=>{
			const email = document.getElementById('email').value.trim();
			const pass = document.getElementById('password').value;
			if (!email || !pass) { alert('Nhập email và mật khẩu'); return; }
			await AuthAPI.login(email, pass);
			alert('Đăng nhập thành công');
			location.href = '/Frontend/index.html';
		}
	</script>
</body>
</html>

